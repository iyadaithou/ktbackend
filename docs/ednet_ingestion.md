# EdNet ingestion (S3 → processing → tutor/KT)

## What’s possible in this repo right now

- **Chat MCQs** are generated by an LLM (OpenAI or Bedrock).
- **User tutor state** (knowledge, recent questions) is stored in **DynamoDB**.
- **Knowledge base (RAG)** can be indexed from **S3** into **OpenSearch** (vector search).

EdNet is a **big-data clickstream / question-attempt dataset**. To actually *use EdNet to drive the tutor* (question bank + Knowledge Tracing), you’ll typically:

- land EdNet raw files in **S3**
- transform them (Glue / EMR / Athena / Spark) into a clean training table
- train a **KT model** (SageMaker) and deploy an endpoint

This doc explains the recommended AWS path and the simplest “demo” path.

---

## Step 1 — Put EdNet into S3

1. Download EdNet (outside this repo, on your machine).
2. Upload into your demo bucket:

```bash
aws s3 sync /path/to/ednet/ s3://YOUR_BUCKET/datasets/ednet/ --no-progress
```

Recommended prefixes:

- `datasets/ednet/raw/` (original files)
- `datasets/ednet/processed/` (clean parquet/csv)
- `datasets/ednet/samples/` (small subsets for testing)

---

## Step 2 — Process EdNet into a KT training format

Your KT model training data should look like:

- `user_id` (string/int)
- `timestamp` (unix/iso)
- `skill_id` (or concept)
- `question_id`
- `correct` (0/1)

### AWS options

- **Fastest demo**: Athena over CSV/Parquet + small sample export
- **Production**: Glue job or EMR/Spark transforms to Parquet

---

## Step 3 — Train a Knowledge Tracing model on SageMaker

Recommended baselines:

- **DKT** (LSTM-based)
- **SAKT** (Transformer attention for KT)
- **Transformer-KT / DKVMN** (more advanced)

Train in SageMaker, then deploy as a real-time endpoint:

Input:

- recent sequence (last N interactions) for the user

Output:

- per-skill mastery probabilities (vector)

That mastery vector feeds the **spider chart** in the UI.

---

## Step 4 — Use EdNet as a question bank (optional)

If you want questions to come from a dataset (instead of LLM generating them), you need:

- a **question bank store** (DynamoDB / Postgres / OpenSearch)
- filtering by `skill_id`, difficulty, and “not recently asked”

Common approach:

- store question metadata in DynamoDB (fast random selection by skill)
- store full text / explanations in S3 or OpenSearch for retrieval

---

## How this ties to “AWS for chat” today

Already in place:

- **DynamoDB**: tutor state + recent questions (anti-repetition)

Planned next:

- **S3 + Glue/EMR + SageMaker**: EdNet-driven KT model + question bank


